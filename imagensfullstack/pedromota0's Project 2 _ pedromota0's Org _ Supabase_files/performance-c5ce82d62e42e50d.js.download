!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="706bc8da-6573-4f07-a9a9-ddd3e3c88e5a",e._sentryDebugIdIdentifier="sentry-dbid-706bc8da-6573-4f07-a9a9-ddd3e3c88e5a")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2577],{14265:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/advisors/performance",function(){return n(23595)}])},23595:function(e,t,n){"use strict";n.r(t);var r=n(97458),s=n(52983),a=n(65483),l=n(31507),i=n(97839),d=n(11527),c=n(13385),o=n(93892),f=n(63832),u=n(45768),m=n(30578),y=n(32073),p=n(39834),b=n(45524),v=n(7499);let L=()=>{var e;let t=(0,b.Vm)(),{preset:n,id:u}=(0,a.UO)(),[m,L]=(0,s.useState)([{level:i.l.ERROR,filters:[]},{level:i.l.WARN,filters:[]},{level:i.l.INFO,filters:[]}]),[g,x]=(0,s.useState)(null!=n?n:i.l.ERROR),[_,h]=(0,s.useState)(null),{data:j,isLoading:E,isRefetching:R,refetch:w}=(0,p.U)({projectRef:null==t?void 0:t.ref}),N=(0,s.useMemo)(()=>[...null!=j?j:[]].filter(e=>e.categories.includes("PERFORMANCE")),[j]),O=(null===(e=m.find(e=>e.level===g))||void 0===e?void 0:e.filters)||[],k=N.filter(e=>e.level===g).filter(e=>O.length>0?O.includes(e.name):e),P=d.EV.filter(e=>N.some(t=>t.name===e.name&&t.level===g)).map(e=>({name:e.title,value:e.name}));return(0,s.useEffect)(()=>{var e;u&&h(null!==(e=N.find(e=>e.cache_key===u))&&void 0!==e?e:null)},[u,N]),(0,r.jsxs)("div",{className:"h-full flex flex-col","data-sentry-component":"ProjectLints","data-sentry-source-file":"performance.tsx",children:[(0,r.jsx)(y.p,{className:"py-4 px-6 !mb-0",title:"Performance Advisor",docsUrl:"https://supabase.com/docs/guides/database/database-linter","data-sentry-element":"FormHeader","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(l.Z,{activeLints:N,isLoading:E,currentTab:g,setCurrentTab:x,setSelectedLint:h,"data-sentry-element":"LintPageTabs","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(o.Z,{filterOptions:P,activeLints:N,filteredLints:k,currentTab:g,filters:m,isLoading:E||R,setFilters:L,onClickRefresh:w,"data-sentry-element":"LinterFilters","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(v.O,{loading:R,"data-sentry-element":"LoadingLine","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(c.Z,{filteredLints:k,currentTab:g,selectedLint:_,setSelectedLint:h,isLoading:E,"data-sentry-element":"LinterDataGrid","data-sentry-source-file":"performance.tsx"}),(0,r.jsx)(f.Z,{isLoading:E,isRefetching:R,refetch:w,"data-sentry-element":"LinterPageFooter","data-sentry-source-file":"performance.tsx"})]})};L.getLayout=e=>(0,r.jsx)(m.Z,{children:(0,r.jsx)(u.Z,{title:"Linter",children:e})}),t.default=L}},function(e){e.O(0,[6665,3856,6664,588,7037,4605,950,292,2433,7639,3662,436,5582,2585,3356,2269,2019,4637,3545,9853,3829,578,28,7788,6765,9774,2888,179],function(){return e(e.s=14265)}),_N_E=e.O()}]);