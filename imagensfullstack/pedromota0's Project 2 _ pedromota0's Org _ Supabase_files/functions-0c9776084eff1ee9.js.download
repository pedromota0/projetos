!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6c8462ce-c4eb-4bba-8e35-b34b2132380b",e._sentryDebugIdIdentifier="sentry-dbid-6c8462ce-c4eb-4bba-8e35-b34b2132380b")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3587],{79704:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/functions",function(){return t(50071)}])},68446:function(e,n,t){"use strict";t.d(n,{q:function(){return s}});let s=[{value:"hello-world",name:"Simple Hello World",description:"Basic function that returns a JSON response",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\ninterface reqPayload {\n  name: string;\n}\n\nconsole.info('server started');\n\nDeno.serve(async (req: Request) => {\n  const { name }: reqPayload = await req.json();\n  const data = {\n    message: `Hello ${name}!`,\n  };\n\n  return new Response(\n    JSON.stringify(data),\n    { headers: { 'Content-Type': 'application/json', 'Connection': 'keep-alive' }}\n  );\n});"},{value:"database-access",name:"Supabase Database Access",description:"Example using Supabase client to query your database",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport { createClient } from 'jsr:@supabase/supabase-js@2'\n\nDeno.serve(async (req) => {\n  try {\n    const supabase = createClient(\n      Deno.env.get('SUPABASE_URL') ?? '',\n      Deno.env.get('SUPABASE_ANON_KEY') ?? '',\n      { global: { headers: { Authorization: req.headers.get('Authorization')! } } }\n    )\n\n    // TODO: Change the table_name to your table\n    const { data, error } = await supabase.from('table_name').select('*')\n\n    if (error) {\n      throw error\n    }\n\n    return new Response(JSON.stringify({ data }), {\n      headers: { 'Content-Type': 'application/json' },\n      status: 200,\n    })\n  } catch (err) {\n    return new Response(JSON.stringify({ message: err?.message ?? err }), {\n      headers: { 'Content-Type': 'application/json' },\n      status: 500 \n    })\n  }\n})"},{value:"storage-upload",name:"Supabase Storage Upload",description:"Upload files to Supabase Storage",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport { createClient } from 'jsr:@supabase/supabase-js@2'\nimport { randomUUID } from 'node:crypto'\n\nconst supabase = createClient(\n  Deno.env.get('SUPABASE_URL') ?? '',\n  Deno.env.get('SUPABASE_ANON_KEY') ?? ''\n)\n\nDeno.serve(async (req) => {\n  const formData = await req.formData()\n  const file = formData.get('file')\n  \n  // TODO: update your-bucket to the bucket you want to write files\n  const { data, error } = await supabase\n    .storage\n    .from('your-bucket')\n    .upload(\n      `${file.name}-${randomUUID()}`,\n      file,\n      { contentType: file.type }\n    )\n  if (error) throw error\n  return new Response(\n    JSON.stringify({ data }),\n    { headers: { 'Content-Type': 'application/json' }}\n  )\n})"},{value:"node-api",name:"Node Built-in API Example",description:"Example using Node.js built-in crypto and http modules",content:'// Setup type definitions for built-in Supabase Runtime APIs\nimport "jsr:@supabase/functions-js/edge-runtime.d.ts";\nimport { randomBytes } from "node:crypto";\nimport { createServer } from "node:http";\nimport process from "node:process";\n\nconst generateRandomString = (length) => {\n  const buffer = randomBytes(length);\n  return buffer.toString(\'hex\');\n};\n\nconst randomString = generateRandomString(10);\nconsole.log(randomString);\n\nconst server = createServer((req, res) => {\n  const message = `Hello`;\n  res.end(message);\n});\n\nserver.listen(9999);'},{value:"express",name:"Express Server",description:"Example using Express.js for routing",content:'// Setup type definitions for built-in Supabase Runtime APIs\nimport "jsr:@supabase/functions-js/edge-runtime.d.ts";\nimport express from "npm:express@4.18.2";\n\nconst app = express();\n\n// TODO: replace slug with Function\'s slug\n// https://supabase.com/docs/guides/functions/routing?queryGroups=framework&framework=expressjs\napp.get(/slug/(.*)/, (req, res) => {\n  res.send("Welcome to Supabase");\n});\n\napp.listen(8000);'},{value:"openai-completion",name:"OpenAI Text Completion",description:"Generate text completions using OpenAI GPT-3",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport { Configuration, OpenAIApi } from 'npm:openai@3.3.0'\n\nconst openAi = new OpenAIApi(\n  new Configuration({\n    apiKey: Deno.env.get('OPENAI_API_KEY')\n  })\n)\n\nDeno.serve(async (req) => {\n  const { prompt } = await req.json()\n  const completion = await openAi.createCompletion({\n    model: 'text-davinci-003',\n    prompt,\n    max_tokens: 200\n  })\n  return new Response(\n    JSON.stringify({ text: completion.data.choices[0].text }),\n    { headers: { 'Content-Type': 'application/json' }}\n  )\n})"},{value:"stripe-webhook",name:"Stripe Webhook Example",description:"Handle Stripe webhook events securely",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport Stripe from 'npm:stripe@12.0.0'\n\nconst stripe = new Stripe(Deno.env.get('STRIPE_API_KEY') as string, {\n  // This is needed to use the Fetch API rather than relying on the Node http\n  // package.\n  apiVersion: '2024-11-20'\n})\n\n// This is needed in order to use the Web Crypto API in Deno.\nconst cryptoProvider = Stripe.createSubtleCryptoProvider()\n\nconsole.log('Stripe Webhook Function booted!')\n\nDeno.serve(async (request) => {\n  const signature = request.headers.get('Stripe-Signature')\n\n  // First step is to verify the event. The .text() method must be used as the\n  // verification relies on the raw request body rather than the parsed JSON.\n  const body = await request.text()\n  let receivedEvent\n  try {\n    receivedEvent = await stripe.webhooks.constructEventAsync(\n      body,\n      signature!,\n      Deno.env.get('STRIPE_WEBHOOK_SIGNING_SECRET')!,\n      undefined,\n      cryptoProvider\n    )\n  } catch (err) {\n    return new Response(err.message, { status: 400 })\n  }\n  console.log(`\uD83D\uDD14 Event received: ${receivedEvent.id}`)\n  return new Response(JSON.stringify({ ok: true }), { status: 200 })\n});"},{value:"resend-email",name:"Send Emails",description:"Send emails using the Resend API",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\n\nconst RESEND_API_KEY = Deno.env.get('RESEND_API_KEY')!\n\nDeno.serve(async (req) => {\n  const { to, subject, html } = await req.json()\n  const res = await fetch('https://api.resend.com/emails', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${RESEND_API_KEY}`,\n    },\n    body: JSON.stringify({\n      from: 'you@example.com',\n      to,\n      subject,\n      html,\n    }),\n  })\n  const data = await res.json()\n  return new Response(JSON.stringify(data), {\n    headers: { 'Content-Type': 'application/json' },\n  })\n})"},{value:"image-transform",name:"Image Transformation",description:"Transform images using ImageMagick WASM",content:"// Setup type definitions for built-in Supabase Runtime APIs\nimport \"jsr:@supabase/functions-js/edge-runtime.d.ts\";\nimport {\n  ImageMagick,\n  initializeImageMagick,\n} from \"npm:@imagemagick/magick-wasm@0.0.30\"\n\nawait initializeImageMagick()\n\nDeno.serve(async (req) => {\n  const formData = await req.formData()\n  const file = formData.get('file')\n  const content = await file.arrayBuffer()\n  const result = await ImageMagick.read(new Uint8Array(content), (img) => {\n    img.resize(500, 300)\n    img.blur(60, 5)\n    return img.write(data => data)\n  })\n  return new Response(\n    result,\n    { headers: { 'Content-Type': 'image/png' }}\n  )\n})"},{value:"websocket-server",name:"Websocket Server Example",description:"Create a real-time WebSocket server",content:'// Setup type definitions for built-in Supabase Runtime APIs\nimport "jsr:@supabase/functions-js/edge-runtime.d.ts";\n\nDeno.serve((req) => {\n  const upgrade = req.headers.get("upgrade") || ""\n  if (upgrade.toLowerCase() != "websocket") {\n    return new Response("request isn\'t trying to upgrade to websocket.")\n  }\n  const { socket, response } = Deno.upgradeWebSocket(req)\n  socket.onopen = () => {\n    console.log("client connected!")\n    socket.send(\'Welcome to Supabase Edge Functions!\')\n  }\n  socket.onmessage = (e) => {\n    console.log("client sent message:", e.data)\n    socket.send(new Date().toString())\n  }\n  return response\n})'}]},35043:function(e,n,t){"use strict";t.d(n,{h:function(){return i}});var s=t(28894),a=t(68503),r=t(29754);async function o(e){let{data:n,error:t}=await (0,a.U2)("/platform/profile/access-tokens",{signal:e});return t&&(0,a.S3)(t),n}let i=function(){let{enabled:e=!0,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.a)(r.C.list(),e=>{let{signal:n}=e;return o(n)},n)}},29754:function(e,n,t){"use strict";t.d(n,{C:function(){return s}});let s={list:()=>["access-tokens"]}},41602:function(e,n,t){"use strict";var s=t(97458),a=t(29977),r=t(14471),o=t(52983),i=t(28453);let c=(0,o.forwardRef)((e,n)=>{let{commands:t,className:a}=e;return(0,s.jsx)("div",{ref:n,className:(0,i.cn)("space-y-4",a),children:t.map((e,n)=>(0,s.jsx)(l,{item:e},"command-".concat(n)))})});c.displayName="CommandRender",n.Z=c;let l=e=>{let{item:n}=e,[t,i]=(0,o.useState)(!1);return(0,s.jsxs)("div",{className:"space-y-1","data-sentry-component":"Command","data-sentry-source-file":"CommandRender.tsx",children:[(0,s.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:"> ".concat(n.comment)}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,s.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,s.jsxs)("span",{children:[(0,s.jsxs)("span",{children:[n.jsx?n.jsx():null," "]}),(0,s.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:()=>{var e;e=n.command,i(!0),navigator.clipboard.writeText(e).then(),setTimeout(function(){i(!1)},3e3)},children:t?(0,s.jsx)(a.Z,{size:14,strokeWidth:3,className:"text-brand"}):(0,s.jsx)(r.Z,{size:14})})]})]})})]})}},49528:function(e,n,t){"use strict";t.d(n,{L:function(){return c}});var s=t(97458),a=t(80858),r=t(52983),o=t(49584),i=t(28453);let c=(0,r.forwardRef)((e,n)=>{let{media:t,meta:r,onClick:c,children:l,className:d,...u}=e;return(0,s.jsxs)(o.aY,{ref:n,className:(0,i.cn)("flex items-center justify-between text-sm gap-4","!border-b-0",c&&"cursor-pointer hover:bg-surface-200",d),onClick:c,...u,children:[t&&(0,s.jsx)("div",{className:"text-foreground-light flex items-center justify-center",children:t}),(0,s.jsx)("div",{className:"flex-1",children:l}),r&&(0,s.jsx)("div",{children:r}),c&&(0,s.jsx)(a.Z,{strokeWidth:1.5,size:16})]})});c.displayName="ResourceItem"},25646:function(e,n,t){"use strict";t.d(n,{D:function(){return o}});var s=t(97458),a=t(52983),r=t(49584);let o=(0,a.forwardRef)((e,n)=>{let{children:t,className:a,...o}=e;return(0,s.jsx)(r.Zb,{ref:n,...o,children:(0,s.jsx)("div",{className:a,children:t})})});o.displayName="ResourceList"},50071:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return G}});var s=t(97458),a=t(46460),r=t(1634),o=t(10371),i=t(72292),c=t(48426),l=t(65483),d=t(28977),u=t.n(d),p=t(29977),m=t(14471),f=t(52983),h=t(85952),x=t(59185),g=t(51002),j=t(44675),y=t(76028);let b=e=>{var n;let{function:t}=e,a=(0,c.useRouter)(),{ref:r}=(0,h.UO)(),{project:o}=(0,x.d2)(),[i,l]=(0,f.useState)(!1),{data:d}=(0,j.z)({projectRef:r}),b=null==o?void 0:o.restUrl,v=void 0!==b?new URL(b).hostname.split(".").pop():"co",w="https://".concat(r,".supabase.").concat(v,"/functions/v1/").concat(t.slug),N=(null==d?void 0:null===(n=d.customDomain)||void 0===n?void 0:n.status)==="active"?"https://".concat(d.customDomain.hostname,"/functions/v1/").concat(t.slug):w;return(0,s.jsxs)(g.Z.tr,{onClick:()=>{a.push("/project/".concat(r,"/functions/").concat(t.slug))},"data-sentry-element":"unknown","data-sentry-component":"EdgeFunctionsListItem","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:[(0,s.jsx)(g.Z.td,{"data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("p",{className:"text-sm text-foreground",children:t.name})})}),(0,s.jsx)(g.Z.td,{"data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsxs)("div",{className:"text-xs text-foreground-light flex gap-2 items-center truncate",children:[(0,s.jsx)("p",{title:N,className:"font-mono truncate hidden md:inline max-w-[30rem]",children:N}),(0,s.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground transition",onClick:e=>{e.stopPropagation(),l(!0),navigator.clipboard.writeText(N).then(),setTimeout(function(){l(!1)},3e3)},children:i?(0,s.jsx)("div",{className:"text-brand",children:(0,s.jsx)(p.Z,{size:14,strokeWidth:3})}):(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"block",children:(0,s.jsx)(m.Z,{size:14,strokeWidth:1.5})})})})]})}),(0,s.jsx)(g.Z.td,{className:"hidden 2xl:table-cell","data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsx)("p",{className:"text-foreground-light",children:u()(t.created_at).format("DD MMM, YYYY HH:mm")})}),(0,s.jsx)(g.Z.td,{className:"lg:table-cell","data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsxs)(y.u,{"data-sentry-element":"Tooltip","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:[(0,s.jsx)(y.aJ,{"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:u()(t.updated_at).fromNow()})})}),(0,s.jsxs)(y._v,{side:"bottom","data-sentry-element":"TooltipContent","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:["Last updated on ",u()(t.updated_at).format("DD MMM, YYYY HH:mm")]})]})}),(0,s.jsx)(g.Z.td,{className:"lg:table-cell","data-sentry-element":"unknown","data-sentry-source-file":"EdgeFunctionsListItem.tsx",children:(0,s.jsx)("p",{className:"text-foreground-light",children:t.version})})]},t.id)};var v=t(43391),w=t(49528),N=t(25646),S=t(67803),k=t(97167),_=t(49319),C=t(94497),E=t.n(C),I=t(62066),D=t(49584),A=t(97380),R=t(98291),F=t(76594),O=t(68446),P=t(44356),z=t(93747),T=t(41602),U=t(44658),Z=t(35043),L=t(81249),q=t(31258);let W=(0,f.forwardRef)((e,n)=>{var t,a,r,d,u,p;let{closable:m=!1,removeBorder:h=!1,...x}=e,g=(0,c.useRouter)(),{ref:y}=(0,l.UO)(),[b,v]=(0,f.useState)(!m),{data:w}=(0,Z.h)(),{data:N}=(0,L.zR)({projectRef:y}),{data:S}=(0,j.z)({projectRef:y}),{anonKey:k}=(0,L.Pb)(N),_=null!==(d=null==k?void 0:k.api_key)&&void 0!==d?d:"[YOUR ANON KEY]",C=null!==(u=null==N?void 0:null===(t=N.app_config)||void 0===t?void 0:t.protocol)&&void 0!==u?u:"https",E=null!==(p=null==N?void 0:null===(a=N.app_config)||void 0===a?void 0:a.endpoint)&&void 0!==p?p:"",I=(null==S?void 0:null===(r=S.customDomain)||void 0===r?void 0:r.status)==="active"?"https://".concat(S.customDomain.hostname,"/functions/v1"):"".concat(C,"://").concat(E,"/functions/v1"),D=E?new URL("https://".concat(E)).hostname.split(".").pop():"co",R=[{command:"supabase functions new hello-world",description:" creates a function stub at ./functions/hello-world/index.ts",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions new hello-world"]}),comment:"Create a function"},{command:"supabase functions deploy hello-world --project-ref ".concat(y),description:"Deploys function at ./functions/hello-world/index.ts",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy hello-world --project-ref ",y]}),comment:"Deploy your function"},{command:"curl -L -X POST 'https://".concat(y,".supabase.").concat(D,"/functions/v1/hello-world' -H 'Authorization: Bearer ").concat(null!=_?_:"[YOUR ANON KEY]",'\' --data \'{"name":"Functions"}\''),description:"Invokes the hello-world function",jsx:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",I,"/hello-world' -H 'Authorization: Bearer [YOUR ANON KEY]'"," ",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}];return(0,s.jsxs)(q.zF,{ref:n,open:b,className:"w-full",onOpenChange:()=>v(!b),...x,children:[(0,s.jsxs)(q.wy,{className:"flex w-full justify-between",disabled:!m,children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 p-2 border rounded bg-alternative",children:(0,s.jsx)(o.Z,{strokeWidth:2})}),(0,s.jsx)("h4",{children:"Create your first Edge Function via the CLI"})]}),m&&(0,s.jsx)("div",{className:"cursor-pointer",onClick:()=>v(!b),children:b?(0,s.jsx)(P.Z,{size:16,strokeWidth:1.5}):(0,s.jsx)(z.Z,{size:16,strokeWidth:1.5})})]}),(0,s.jsxs)(q.Fw,{className:"w-full transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:[(0,s.jsx)(T.Z,{commands:R,className:"my-4"}),w&&0===w.length?(0,s.jsxs)("div",{className:"px-8 py-4 space-y-3 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-foreground",children:"You may need to create an access token"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"You can create a secure access token in your account section"})]}),(0,s.jsx)(A.z,{type:"default",onClick:()=>g.push("/account/tokens"),children:"Access tokens"})]}):(0,s.jsxs)("div",{className:"py-4 space-y-3 border-t",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-base text-foreground",children:"Need help?"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Read the documentation, or browse some sample code."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(U.G,{href:"https://supabase.com/docs/guides/functions"}),(0,s.jsx)(A.z,{asChild:!0,type:"default",icon:(0,s.jsx)(i.Z,{}),children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",children:"Examples"})})]})]})]})]})});W.displayName="TerminalInstructions";let Y=()=>{let{ref:e}=(0,l.UO)(),n=(0,c.useRouter)(),t=(0,I.oJ)(),a=(0,_.P)("edgeFunctionCreate"),{mutate:i}=(0,S.a)(),d=(0,k.l)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(D.Zb,{"data-sentry-element":"Card","data-sentry-source-file":"FunctionsEmptyState.tsx",children:[(0,s.jsx)(D.Ol,{"data-sentry-element":"CardHeader","data-sentry-source-file":"FunctionsEmptyState.tsx",children:(0,s.jsx)(D.ll,{"data-sentry-element":"CardTitle","data-sentry-source-file":"FunctionsEmptyState.tsx",children:"Create your first edge function"})}),(0,s.jsxs)(D.aY,{className:"p-0 grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] divide-y md:divide-y-0 md:divide-x divide-default items-stretch","data-sentry-element":"CardContent","data-sentry-source-file":"FunctionsEmptyState.tsx",children:[a&&(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Z,{strokeWidth:1.5,size:20}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Via Editor"})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Create and edit functions directly in the browser. Download to local at any time."}),(0,s.jsx)(A.z,{type:"default",onClick:()=>{var t;n.push("/project/".concat(e,"/functions/new")),i({action:"edge_function_via_editor_button_clicked",properties:{origin:"no_functions_block"},groups:{project:null!=e?e:"Unknown",organization:null!==(t=null==d?void 0:d.slug)&&void 0!==t?t:"Unknown"}})},children:"Open Editor"})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(R.c,{size:20,"data-sentry-element":"AiIconAnimation","data-sentry-source-file":"FunctionsEmptyState.tsx"}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"AI Assistant"})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Let our AI assistant help you create functions. Perfect for kickstarting a function."}),(0,s.jsx)(A.z,{type:"default",onClick:()=>{var n;t.newChat({name:"Create new edge function",open:!0,initialInput:"Create a new edge function that ...",suggestions:{title:"I can help you create a new edge function. Here are a few example prompts to get you started:",prompts:["Create a new edge function that processes payments with Stripe","Create a new edge function that sends emails with Resend","Create a new edge function that generates PDFs from HTML templates"]}}),i({action:"edge_function_ai_assistant_button_clicked",properties:{origin:"no_functions_block"},groups:{project:null!=e?e:"Unknown",organization:null!==(n=null==d?void 0:d.slug)&&void 0!==n?n:"Unknown"}})},"data-sentry-element":"Button","data-sentry-source-file":"FunctionsEmptyState.tsx",children:"Open Assistant"})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{strokeWidth:1.5,size:20,"data-sentry-element":"Terminal","data-sentry-source-file":"FunctionsEmptyState.tsx"}),(0,s.jsx)("h4",{className:"text-base text-foreground",children:"Via CLI"})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Create and deploy functions using the Supabase CLI. Ideal for local development and version control."}),(0,s.jsxs)(F.Vq,{"data-sentry-element":"Dialog","data-sentry-source-file":"FunctionsEmptyState.tsx",children:[(0,s.jsx)(F.hg,{asChild:!0,"data-sentry-element":"DialogTrigger","data-sentry-source-file":"FunctionsEmptyState.tsx",children:(0,s.jsx)(A.z,{type:"default",onClick:()=>{var n;return i({action:"edge_function_via_cli_button_clicked",properties:{origin:"no_functions_block"},groups:{project:null!=e?e:"Unknown",organization:null!==(n=null==d?void 0:d.slug)&&void 0!==n?n:"Unknown"}})},"data-sentry-element":"Button","data-sentry-source-file":"FunctionsEmptyState.tsx",children:"View CLI Instructions"})}),(0,s.jsx)(F.cZ,{size:"large","data-sentry-element":"DialogContent","data-sentry-source-file":"FunctionsEmptyState.tsx",children:(0,s.jsx)(F.VO,{padding:"small","data-sentry-element":"DialogSection","data-sentry-source-file":"FunctionsEmptyState.tsx",children:(0,s.jsx)(W,{"data-sentry-element":"TerminalInstructions","data-sentry-source-file":"FunctionsEmptyState.tsx"})})})]})]})]})]}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.qw,{className:"text-xl mb-4 mt-12",children:"Start with a template"}),(0,s.jsx)(N.D,{children:O.q.map(n=>(0,s.jsx)(w.L,{media:(0,s.jsx)(r.Z,{strokeWidth:1.5,size:16,className:"-translate-y-[9px]"}),onClick:()=>{var t;i({action:"edge_function_template_clicked",properties:{templateName:n.name,origin:"functions_page"},groups:{project:null!=e?e:"Unknown",organization:null!==(t=null==d?void 0:d.slug)&&void 0!==t?t:"Unknown"}})},children:(0,s.jsxs)(E(),{href:"/project/".concat(e,"/functions/new?template=").concat(n.value),children:[(0,s.jsx)("p",{children:n.name}),(0,s.jsx)("p",{className:"text-sm text-foreground-lighter",children:n.description})]})},n.name))})]})]})};var H=t(30578),B=t(56795),M=t(3827),J=t(11426),K=t(79302),V=t(42983),X=t(15357);let $=()=>{let{ref:e}=(0,l.UO)(),n=(0,I.oJ)(),t=(0,c.useRouter)(),{data:d,error:u,isLoading:p,isError:m,isSuccess:f}=(0,V.I)({projectRef:e}),h=(0,_.P)("edgeFunctionCreate"),{mutate:x}=(0,S.a)(),j=(0,k.l)(),y=(null!=d?d:[]).length>0,w=(0,s.jsxs)(X.h_,{children:[(0,s.jsx)(X.$F,{asChild:!0,children:(0,s.jsx)(A.z,{type:"primary",iconRight:(0,s.jsx)(a.Z,{className:"w-4 h-4",strokeWidth:1.5}),children:"Deploy a new function"})}),(0,s.jsxs)(X.AW,{align:"end",className:"w-80",children:[h&&(0,s.jsxs)(X.Xi,{onSelect:()=>{var n;t.push("/project/".concat(e,"/functions/new")),x({action:"edge_function_via_editor_button_clicked",properties:{origin:"secondary_action"},groups:{project:null!=e?e:"Unknown",organization:null!==(n=null==j?void 0:j.slug)&&void 0!==n?n:"Unknown"}})},className:"gap-4",children:[(0,s.jsx)(r.Z,{className:"shrink-0",size:16,strokeWidth:1.5}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-foreground",children:"Via Editor"}),(0,s.jsx)("p",{children:"Write and deploy in the browser"})]})]}),(0,s.jsxs)(F.Vq,{children:[(0,s.jsx)(F.hg,{asChild:!0,children:(0,s.jsxs)(X.Xi,{className:"gap-4",onSelect:n=>{var t;n.preventDefault(),x({action:"edge_function_via_cli_button_clicked",properties:{origin:"secondary_action"},groups:{project:null!=e?e:"Unknown",organization:null!==(t=null==j?void 0:j.slug)&&void 0!==t?t:"Unknown"}})},children:[(0,s.jsx)(o.Z,{className:"shrink-0",size:16,strokeWidth:1.5}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-foreground",children:"Via CLI"}),(0,s.jsx)("p",{children:"Write locally, deploy with the CLI"})]})]})}),(0,s.jsxs)(F.cZ,{size:"large",children:[(0,s.jsx)(F.$N,{className:"sr-only",children:"Create your first Edge Function via the CLI"}),(0,s.jsx)(F.VO,{padding:"small",children:(0,s.jsx)(W,{})})]})]}),(0,s.jsxs)(X.Xi,{className:"gap-4",onSelect:()=>{var t;n.newChat({name:"Create new edge function",open:!0,initialInput:"Create a new edge function that ...",suggestions:{title:"I can help you create a new edge function. Here are a few example prompts to get you started:",prompts:["Create a new edge function that processes payments with Stripe","Create a new edge function that sends emails with Resend","Create a new edge function that generates PDFs from HTML templates"]}}),x({action:"edge_function_ai_assistant_button_clicked",properties:{origin:"secondary_action"},groups:{project:null!=e?e:"Unknown",organization:null!==(t=null==j?void 0:j.slug)&&void 0!==t?t:"Unknown"}})},children:[(0,s.jsx)(R.c,{className:"shrink-0",size:16}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-foreground",children:"Via AI Assistant"}),(0,s.jsx)("p",{children:"Let the Assistant write and deploy for you"})]})]})]})]}),N=[(0,s.jsx)(U.G,{href:"https://supabase.com/docs/guides/functions"},"docs"),(0,s.jsx)(A.z,{asChild:!0,type:"default",icon:(0,s.jsx)(i.Z,{}),children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",children:"Examples"})},"edge-function-examples")];return(0,s.jsx)(M.X,{size:"large",title:"Edge Functions",subtitle:"Deploy edge functions to handle complex business logic",primaryActions:w,secondaryActions:N,"data-sentry-element":"PageLayout","data-sentry-component":"EdgeFunctionsPage","data-sentry-source-file":"index.tsx",children:(0,s.jsx)(v._S,{size:"large","data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"index.tsx",children:(0,s.jsxs)(v.jX,{isFullWidth:!0,"data-sentry-element":"ScaffoldSection","data-sentry-source-file":"index.tsx",children:[p&&(0,s.jsx)(K.A,{}),m&&(0,s.jsx)(J.Z,{error:u,subject:"Failed to retrieve edge functions"}),f&&(0,s.jsx)(s.Fragment,{children:y?(0,s.jsx)(g.Z,{head:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Z.th,{children:"Name"}),(0,s.jsx)(g.Z.th,{children:"URL"}),(0,s.jsx)(g.Z.th,{className:"hidden 2xl:table-cell",children:"Created"}),(0,s.jsx)(g.Z.th,{className:"lg:table-cell",children:"Last updated"}),(0,s.jsx)(g.Z.th,{className:"lg:table-cell",children:"Deployments"})]}),body:(0,s.jsx)(s.Fragment,{children:d.length>0&&d.map(e=>(0,s.jsx)(b,{function:e},e.id))})}):(0,s.jsx)(Y,{})})]})})})};$.getLayout=e=>(0,s.jsx)(H.Z,{children:(0,s.jsx)(B.Z,{children:e})});var G=$},49584:function(e,n,t){"use strict";t.d(n,{Ol:function(){return i},Zb:function(){return o},aY:function(){return l},eW:function(){return d},ll:function(){return c}});var s=t(97458),a=t(52983),r=t(28453);let o=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,className:(0,r.cn)("rounded-lg border bg-surface-100 text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let i=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,className:(0,r.cn)("flex flex-col space-y-1.5 py-4 px-6 border-b",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:n,className:(0,r.cn)("text-xs font-mono uppercase",t),...a})});c.displayName="CardTitle",a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:n,className:(0,r.cn)("text-sm text-foreground-muted",t),...a})}).displayName="CardDescription";let l=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,className:(0,r.cn)("py-4 px-6 border-b last:border-none",t),...a})});l.displayName="CardContent";let d=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:n,className:(0,r.cn)(" flex items-center py-4 px-6",t),...a})});d.displayName="CardFooter"}},function(e){e.O(0,[6665,3856,6664,588,7037,4605,950,292,2433,7639,3662,436,5582,2585,3356,2269,2019,4637,3545,3829,578,28,7788,3136,9774,2888,179],function(){return e(e.s=79704)}),_N_E=e.O()}]);